<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=0"><meta name="description" content="A blog about programming and statistics"><meta name="keywords" content="python,deep learning,machine learning"><link href="/favicon.ico" rel="icon"><link href="http://fonts.googleapis.com/css?family=PT+Serif" rel="stylesheet" type="text/css"><link rel="stylesheet" type="text/css" href="/static/bower_components/sass-bootstrap/dist/css/bootstrap.min.css" media="all"><link rel="stylesheet" type="text/css" href="/static/css/style.min.css" media="all"><link rel="stylesheet" type="text/css" href="http://v4-alpha.getbootstrap.com/examples/blog/blog.css" media="all"><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.1.0/css/font-awesome.min.css"><title>Using a Char-rnn on the R Manual - The Weak Learner</title></head><body><header><div class="container headercontainer"><nav class="navbar navbar-default navbar-static-top"><div class="navbar-header"><button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#header-nav"><span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span></button><div class="collapse navbar-collapse" id="header-nav"><ul class="nav navbar-nav"><li><a href="/">Home</a></li><li><a href="/blog/archives/">Archives</a></li></ul><form action="http://www.google.com/search" method="GET" name="searchForm" id="searchForm" enctype="application/x-www-form-urlencoded" class="navbar-form navbar-right"><div class="form-group"><input type="hidden" id="sitesearch" value="weinstockj.github.io"> <input id="search" type="search" name="q" results="0" placeholder="Search..." maxlength="200" autocomplete="off" class="form-control"><ul class="searchresults"></ul></div></form></div></div></nav></div><div class="blog-header"><div class="container"><div class="jumbotron"><h1><a href="/">The Weak Learner</a></h1><h2>A blog about programming and statistics</h2></div></div></div></header><div class="container"><div class="row"><div class="col-sm-9 blog-main"><div class="blog-post"><p class="date">18th July 2016 9:52 pm</p><h2>Using a Char-rnn on the R Manual</h2><p>Character recurrent neural networks have become very popular in recent years in the deep learning community for learning probability distributions over sequences of characters. More concretely, the probably of an “o” given the sequence of letters “hell” . There are many ways to model sequences of characters, and it does not have to be accomplished with either a recurrent neural network or on a character level. E.g., simple markov models can perform reasonably in this context (reasonably not defined..), or a model could be trained on words. I will not offer a more in depth explanation, but instead I’ll link to two posts on the matter which offer far more lucid explanations than I could ever offer on the subject.</p><p>Anyway, as far as I’m aware, the canonical blog post on the subject comes from Andrej Karpathy <a href="http://karpathy.github.io/2015/05/21/rnn-effectiveness/">here</a> . Karpathy open sourced a version of the network in the torch language. The model was rewritten to use Tensorflow in this implementation <a href="https://github.com/sherjilozair/char-rnn-tensorflow">here</a> . This is the code I used for this project, for no particular reason other than curiosity.</p><p>As far as I can tell, LSTM’s are generally more popular these days than recurrent neural networks. An excellent post on the subject is <a href="http://colah.github.io/posts/2015-08-Understanding-LSTMs/">here</a> .</p><p>These models can produce some entertaining results. A prime example is the <a href="https://twitter.com/deepdrumpf">@deepdrumpf</a> Twitter account, which tweets samples from a trained recurrent neural network.</p><p>In a more nerdy direction, I trained a char-rnn on the sexy corpus of text known as the <a href="https://cran.r-project.org/manuals.html">R manuals</a>. I also added a small sprinkle of text from <a href="http://adv-r.had.co.nz/">Hadley Wickham’s Advanced R.</a> . The hope being that my neural net would produce some fabulous new pieces of R Wizardry.</p><p>I trained my model in the official Tenorflow <a href="https://hub.docker.com/r/tensorflow/tensorflow/">docker</a> container. I did this to avoid all the headache of setting up the proper python / jupyter / Tensorflow enviroment. I trained the model with a single hidden layer with 350 hidden units, and some standard amount of dropout that I don’t remember. It took several hours since I trained it on the CPU of my laptop.</p><h2 id="the-incredible-results">The Incredible results</h2><blockquote>versiol computing dur can be set to eady containing your response. Next: build update that you should use file if the representation on the following table: these can save a little might be imported from by information and opened by complex types are handled used to create them elseugh R installed in others. R malloc(), but is checked siges to implement frequently.</blockquote><p>The spelling is decent - remember that the model has no concept of grammar and has to learn everything from the corpus.</p><p>This is mostly gibberish. =( . Let’s try another!</p><blockquote>If you have the same assingment as needs to be in that environment, as not necessary to FORTRAN. Note that it is essential, for example shown that a ‘Method’ that does if a useful for a shared object. I’l book is the file see Lathest attaches the package task. If you need to get an installed header files in the convoltable to contribute Furbath, supply a 32-bit and write.table and those for the environment of the loop. The best common in R CMD check that we can in the reposi</blockquote><p>A little better this time. The model learned some stuff about header files and Fortran being parts that drive R. It also learned about the write.table function and R CMD CHECK.</p><p>Let’s do one last sample:</p><blockquote>Function. Do not need duplication flags. To try the national expressions, only 02 and 1 is the more efficient to the command is better to take a parent of the model at least in front-end. You can remove Fortran CPUs should stit in an object in the default is defined in the previous might want to read libraries supplied for other useful returns. It is needed, the efficienchmarms to form Negatives. ‘A mile88 bytes are coerced to compute C++ extensions. You might won’t register them once things able th</blockquote><p>Well I primed this sample with “function”, but looks like the model spit out some stuff about compiling and C++. Also another mention of Fortran here.</p><h3 id="ending-thoughts">Ending thoughts</h3><p>The results were not as amusing as I had hoped - perhaps that’s merely a product of this being a ridiculous endeavor. Anyway, it was worthwhile getting a little more familiar with Docker and Tensorflow. Obvious limitations include training a small network on a small corpus. The source for this is <a href="https://github.com/weinstockj/char_rnn_experiment">here</a>.</p><ul class="categorylist"><li><a href="/blog/categories/python/">python</a></li><li><a href="/blog/categories/deep learning/">deep learning</a></li><li><a href="/blog/categories/machine learning/">machine learning</a></li></ul><section class="comments"><div id="disqus_thread"></div><script type="text/javascript">window.disqus_identifier="http://weinstockj.github.io/blog/2016/07/19/using-a-char-rnn-on-the-r-manual/";
                      window.disqus_url="http://weinstockj.github.io/blog/2016/07/19/using-a-char-rnn-on-the-r-manual/";
                      window.disqus_title="Using a Char-rnn on the R Manual";</script><script type="text/javascript" src="http://disqus.com/forums/theweaklearner/embed.js"></script><noscript><a href="http://theweaklearner.disqus.com/?url=ref">View the discussion thread.</a></noscript></section></div></div><div class="col-sm-2 col-sm-offset-1 blog-sidebar"><div class="sidebar-module sidebar-module-inset"><p style="text-align:center"><a href="https://github.com/weinstockj"><i class="fa fa-github fa-3x"></i></a></p><p style="text-align:center"><a href="https://twitter.com/J__Stock"><i class="fa fa-twitter fa-3x"></i></a></p><div class="sidebar-module"><h3>Recent Posts</h3><p><a href="/blog/2016/07/19/using-a-char-rnn-on-the-r-manual/">Using a Char-rnn on the R Manual</a></p><p><a href="/blog/2016/06/08/decorators-in-r/">Decorators in R</a></p><p><a href="/blog/2016/06/04/reading-in-data-in-julia-r-and-python/">Reading in Data in Julia, R, and Python</a></p></div></div></div></div><div class="row"><div class="col-md-12"><ul class="pager"><li><a href="/blog/2016/06/08/decorators-in-r/">Decorators in R</a></li></ul></div></div></div><footer><div class="container footercontainer"><div class="col-md-12"><p class="copyright">Copyright &copy; Josh Weinstock 2016.</p></div></div></footer><script type="text/javascript" src="/static/js/all.min.js"></script><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=
            function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;
            e=o.createElement(i);r=o.getElementsByTagName(i)[0];
            e.src='//www.google-analytics.com/analytics.js';
            r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));
            ga('create','UA-78944497-1');ga('send','pageview');</script></body></html>